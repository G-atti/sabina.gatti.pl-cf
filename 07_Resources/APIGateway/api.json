{
	"APIWebhookNewsletterSubscription": {
		"Type": "AWS::ApiGateway::RestApi",
		"Properties": {
			"Description": "Webhook to catch emails for the Newsletter.",
			"Name": "Webhook-NewsletterSubscription",
			"Body": {
				"swagger": "2.0",
				"info": {
					"version": "2017-12-25T08:30:13Z",
					"title": "sabina.gatti.pl"
				},
				"schemes": [
					"https"
				],
				"paths": {
					"/subscribe": {
						"post": {
							"produces": [
								"application/json"
							],
							"responses": {
								"200": {
									"description": "200 response",
									"schema": {
										"$ref": "#/definitions/Empty"
									}
								}
							},
							"x-amazon-apigateway-integration": {
								"uri": { "Fn::Join": ["", ["arn", ":", "aws", ":", "apigateway", ":", { "Ref" : "AWS::Region" }, ":", "lambda", ":", "path/2015-03-31/functions/", { "Fn::GetAtt": ["LambdaNewsletterSubscription", "Arn"]}, "/invocations"]]},
								"responses": {
									"default": {
										"statusCode": "200"
									}
								},
								"passthroughBehavior": "when_no_match",
								"httpMethod": "POST",
								"contentHandling": "CONVERT_TO_TEXT",
								"type": "aws_proxy"
							}
						},
						"options": {
							"consumes": [
								"application/json"
							],
							"produces": [
								"application/json"
							],
							"responses": {
								"200": {
									"description": "200 response",
									"schema": {
										"$ref": "#/definitions/Empty"
									},
									"headers": {
										"Access-Control-Allow-Origin": {
											"type": "string"
										},
										"Access-Control-Allow-Methods": {
											"type": "string"
										},
										"Access-Control-Allow-Headers": {
											"type": "string"
										}
									}
								}
							},
							"x-amazon-apigateway-integration": {
								"responses": {
									"default": {
										"statusCode": "200",
										"responseParameters": {
											"method.response.header.Access-Control-Allow-Methods": "'DELETE,GET,HEAD,OPTIONS,PATCH,POST,PUT'",
											"method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
											"method.response.header.Access-Control-Allow-Origin": "'*'"
										}
									}
								},
								"passthroughBehavior": "when_no_match",
								"requestTemplates": {
									"application/json": "{\"statusCode\": 200}"
									},
									"type": "mock"
								}
							}
						}
					},
					"definitions": {
						"Empty": {
							"type": "object",
							"title": "Empty Schema"
						}
					}
				}
			}
		}
	}
